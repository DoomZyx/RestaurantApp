{"context":{"context":"twilio_message_parse"},"error":"callLogger.info is not a function","event":"error","level":"error","message":"❌ Erreur détectée","stack":"TypeError: callLogger.info is not a function\n    at WebSocket.<anonymous> (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Connection/connection.js:107:22)\n    at WebSocket.emit (node:events:507:28)\n    at Receiver.receiverOnMessage (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\websocket.js:1220:20)\n    at Receiver.emit (node:events:507:28)\n    at Receiver.dataMessage (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:596:14)\n    at Receiver.getData (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:496:10)\n    at Receiver.startLoop (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:167:16)\n    at Receiver._write (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:94:10)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)","streamSid":null,"timestamp":"2025-08-08 03:42:55"}
{"context":{"context":"twilio_message_parse"},"error":"callLogger.info is not a function","event":"error","level":"error","message":"❌ Erreur détectée","stack":"TypeError: callLogger.info is not a function\n    at WebSocket.<anonymous> (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Connection/connection.js:102:22)\n    at WebSocket.emit (node:events:507:28)\n    at Receiver.receiverOnMessage (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\websocket.js:1220:20)\n    at Receiver.emit (node:events:507:28)\n    at Receiver.dataMessage (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:596:14)\n    at Receiver.getData (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:496:10)\n    at Receiver.startLoop (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:167:16)\n    at Receiver._write (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\ws@8.18.3\\node_modules\\ws\\lib\\receiver.js:94:10)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)","streamSid":"MZ0df9c04922f84846e7f3beff4938d06e","timestamp":"2025-08-08 03:44:03"}
{"context":{"context":"process_call","totalDuration":0},"error":"callLogger.info is not a function","event":"error","level":"error","message":"❌ Erreur détectée","stack":"TypeError: callLogger.info is not a function\n    at Object.<anonymous> (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Routes/CallData/processCall.js:23:18)\n    at routeOptions.handler (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\@fastify+websocket@11.2.0\\node_modules\\@fastify\\websocket\\index.js:208:24)\n    at preHandlerCallbackInner (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\handleRequest.js:161:24)\n    at preHandlerCallback (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\handleRequest.js:129:5)\n    at validationCompleted (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\handleRequest.js:119:5)\n    at preValidationCallback (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\handleRequest.js:96:5)\n    at handler (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\handleRequest.js:73:7)\n    at C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\contentTypeParser.js:214:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at done (C:\\Users\\axelc\\OneDrive\\Documents\\Automatisation\\HandleHome\\Backend\\node_modules\\.pnpm\\fastify@5.4.0\\node_modules\\fastify\\lib\\contentTypeParser.js:207:14)","streamSid":"unknown","timestamp":"2025-08-08 03:54:17"}
{"context":{"context":"process_call","totalDuration":4535},"error":"Impossible de parser les données extraites","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Impossible de parser les données extraites\n    at extractCallData (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Services/gptServices/extractCallData.js:73:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.<anonymous> (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Routes/CallData/processCall.js:30:29)","streamSid":"unknown","timestamp":"2025-08-08 03:55:32"}
{"context":{"context":"api_call","status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-08-08 10:42:45"}
{"context":{"context":"process_call","totalDuration":2289},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-08-08 10:42:45"}
{"context":{"status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500\n    at TranscriptionProcessor.sendToProcessingAPI (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Connection/connection.js:220:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TranscriptionProcessor.process (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Connection/connection.js:176:7)\n    at async TwilioMessageHandler.processTranscription (file:///C:/Users/axelc/OneDrive/Documents/Automatisation/HandleHome/Backend/Connection/connection.js:246:7)","streamSid":"MZ5ecb5e51cafacc3cb63f2884cc689e51","timestamp":"2025-08-08 10:42:45"}
{"context":{"context":"api_call","status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///home/doomzy/Documents/SmartCRM/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-09-28 22:04:25"}
{"context":{"context":"process_call","totalDuration":4433},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///home/doomzy/Documents/SmartCRM/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-09-28 22:04:25"}
{"context":{"status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500\n    at TranscriptionProcessor.sendToProcessingAPI (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:356:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TranscriptionProcessor.process (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:301:7)\n    at async TwilioMessageHandler.processTranscription (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:394:7)","streamSid":"MZ013bb579707a9e82d5287ee65dbf4354","timestamp":"2025-09-28 22:04:25"}
{"context":{"context":"api_call","status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///home/doomzy/Documents/SmartCRM/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-09-28 22:04:46"}
{"context":{"context":"process_call","totalDuration":3314},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///home/doomzy/Documents/SmartCRM/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-09-28 22:04:46"}
{"context":{"status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500\n    at TranscriptionProcessor.sendToProcessingAPI (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:356:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TranscriptionProcessor.process (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:301:7)\n    at async TwilioMessageHandler.processTranscription (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:394:7)","streamSid":"MZd266d206f0688a2bba60536c46534aab","timestamp":"2025-09-28 22:04:46"}
{"context":{"context":"api_call","status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///home/doomzy/Documents/SmartCRM/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-09-28 22:13:22"}
{"context":{"context":"process_call","totalDuration":2088},"error":"Erreur API: 500 Internal Server Error","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500 Internal Server Error\n    at Object.<anonymous> (file:///home/doomzy/Documents/SmartCRM/Backend/Routes/CallData/processCall.js:57:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","streamSid":"unknown","timestamp":"2025-09-28 22:13:22"}
{"context":{"status":500,"statusText":"Internal Server Error"},"error":"Erreur API: 500","event":"error","level":"error","message":"❌ Erreur détectée","stack":"Error: Erreur API: 500\n    at TranscriptionProcessor.sendToProcessingAPI (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:356:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TranscriptionProcessor.process (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:301:7)\n    at async TwilioMessageHandler.processTranscription (file:///home/doomzy/Documents/SmartCRM/Backend/Connection/connection.js:394:7)","streamSid":"MZ3b302b54220290eead8fa65b2b679ace","timestamp":"2025-09-28 22:13:22"}
